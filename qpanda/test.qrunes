@settings:
    language = Python;
    autoimport = True;
    compile_only = False;

@qcodes:
circuit entg(vector<qubit> q, vector<int> c) {
    qubit controlVector[];
    controlVector.append(q[0]);
    controlVector.append(q[1]);
    H(q[0]);
    CNOT(q[0],q[1]);
}

@script:
if __name__ == '__main__':
    machine = init(QMachineType.CPU)
    qv = machine.qAlloc_many(2)
    cv = machine.cAlloc_many(2)
    prog = QProg()
    prog.insert(entg(qv,qc))
    result = run_with_configuration(prog, cbit_list = cv, shots = 1000)
    print(result)

    finalize()
